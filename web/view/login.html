<div id="content">
    <div class="ui two column middle aligned relaxed grid basic segment">
        <div class="column">
            <div id="login" class="ui form segment" ng-class="user.error ? 'error' : 'success'">
                <div class="field">
                    <label>用户名</label>
                    <div class="ui left labeled icon input">
                        <input name="username" type="text" placeholder="用户名" ng-model="user.username">
                        <i class="user icon"></i>
                        <div class="ui corner label">
                            <i class="asterisk icon"></i>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>密码</label>
                    <div class="ui left labeled icon input">
                        <input name="password" type="password" placeholder="密码" ng-model="user.password">
                        <i class="lock icon"></i>
                        <div class="ui corner label">
                            <i class="asterisk icon"></i>
                        </div>
                    </div>
                </div>
                <button class="ui blue button" ng-click="user.login()">登陆</button>
                <div class="ui error message">
                    <p>{{user.error}}</p>
                </div>

            </div>
        </div>
        <div class="ui vertical divider">
            OR
        </div>
        <div class="center aligned column">
            <a class="huge green ui labeled icon button" href="#/register">
                <i class="signup icon"></i>
                注册
            </a>
        </div>
    </div>
    <div class="ui inverted dimmer" ng-class="{true: 'active', false: 'disabled'}[user.loading]">
        <div class="ui text loader">登录中...</div>
    </div>
</div>

<script>
    $("#login").form({
        username: {
            identifier: "username",
            rules: [
                {
                    type: "empty",
                    prompt: "请输入用户名"
                }
            ]
        },
        password: {
            identifier: "password",
            rules:[
                {
                    type: "empty",
                    prompt: "请输入密码"
                }
            ]
        }
    }, {
        inline: true,
        on: "blur"
    }
    );
</script>
