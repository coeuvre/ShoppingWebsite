<div id="content">
    <div id="sidebar">
        <div class="ui vertical steps">
            <div class="ui active step">
                {{register.step[0]}}
            </div>
            <div class="ui disabled step">
                {{register.step[1]}}
            </div>
            <div class="ui disabled step">
                {{register.step[2]}}
            </div>
        </div>
    </div>

    <div class="ui header">
        注册用户
    </div>

    <form id="register" class="ui form segment">
        <div class="field">
            <label>电子邮箱</label>
            <div class="ui icon input">
                <input name="email" placeholder="电子邮箱" type="text" ng-model="register.email" />
                <i class="asterisk red icon"></i>
            </div>
        </div>

        <div class="field">
            <label >用户名</label>
            <div class="ui icon input">
                <input name="username" placeholder="用户名" type="text" ng-model="register.username" />
                <i class="asterisk red icon"></i>
            </div>
        </div>

        <div class="field">
            <label>密码</label>
            <div class="ui icon input">
                <input name="password" placeholder="密码" type="password" ng-model="register.password" />
                <i class="asterisk red icon"></i>
            </div>
        </div>

        <div class="field">
            <label>确认密码</label>
            <div class="ui icon input">
                <input name="passwordConfirm" placeholder="确认密码" type="password">
                <i class="asterisk red icon"></i>
            </div>
        </div>

        <div class="ui inverted dimmer" ng-class="{true: 'active', false: 'disabled'}[register.loading]">
            <div class="ui text loader">正在注册中...</div>
        </div>
    </form>
    <button class="ui blue button" ng-click="register.register()">下一步</button>
</div>

<script>
    $(function () {
        $('.ui.form').form({
            username: {
                identifier: "username",
                rules: [{
                    type: "empty",
                    prompt: "请输入用户名"
                }]
            },
            email: {
                identifier: "email",
                rules: [{
                    type: "empty",
                    prompt: "请输入电子邮箱"
                },{
                    type: "email",
                    prompt: "请输入合法的电子邮箱"
                }]
            },
            password: {
                identifier: "password",
                rules: [{
                    type: "empty",
                    prompt: "请输入密码"
                },{
                    type: "length[6]",
                    prompt: "密码长度不能小于6"
                }]
            },
            passwordConfirm: {
                identifier: "passwordConfirm",
                rules: [{
                    type: "match[password]",
                    prompt: "两次输入的密码不一致"
                }, {
                    type: "empty",
                    prompt: "请输入确认密码"
                }]
            }
        }, {
            on: 'blur',
            inline: 'true'
        });
    });
</script>